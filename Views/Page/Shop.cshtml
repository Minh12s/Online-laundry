@{
    Layout = "~/Views/Shared/User_Layout.cshtml";
    ViewData["Title"] = "Category";
}
<div class="hero-wrap hero-bread" style="background-image: url('/images/anhbg1.jpg');">
    <div class="container">
        <div class="row no-gutters slider-text align-items-center justify-content-center">
            <div class="col-md-9 ftco-animate text-center">
                <p class="breadcrumbs"><span class="mr-2"><a href="index.html">Home</a></span> <span>Products</span></p>
                <h1 class="mb-0 bread">Collection Products</h1>
            </div>
        </div>
    </div>
</div>

<section class="ftco-section bg-light">
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-lg-10 order-md-last">
                <div class="row">
                    @foreach (var product in Model)
                    {
                        <div class="col-sm-6 col-md-6 col-lg-4 ftco-animate">
                            <div class="product">
                                <a href="#" class="img-prod">
                                    <img class="img-fluid" src="@product.Thumbnail" alt="Colorlib Template">
                                    <span class="status">30%</span>
                                    <div class="overlay"></div>
                                </a>
                                <div class="text py-3 px-3">
                                    <h3><a href="@Url.Action("Details", "Page", new { slug = product.Slug })">@product.ProductName</a></h3>
                                    <div class="d-flex">
                                        <div class="pricing">
                                            <p class="price"><span class="mr-2 price-dc">$120.00</span><span class="price-sale">$@product.Price</span></p>
                                        </div>
                                        <div class="rating">
                                            <p class="text-right">
                                                <a href="#"><span class="ion-ios-star-outline"></span></a>
                                                <a href="#"><span class="ion-ios-star-outline"></span></a>
                                                <a href="#"><span class="ion-ios-star-outline"></span></a>
                                                <a href="#"><span class="ion-ios-star-outline"></span></a>
                                                <a href="#"><span class="ion-ios-star-outline"></span></a>
                                            </p>
                                        </div>
                                    </div>
                                    <p class="bottom-area d-flex px-3">
                                        <a href="#" class="add-to-cart text-center py-2 mr-1"><span>Add to cart <i class="ion-ios-add ml-1"></i></span></a>
                                        <a href="#" class="buy-now text-center py-2">Buy now<span><i class="ion-ios-cart ml-1"></i></span></a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                <div class="row mt-5">
                    <div class="col text-center">
                        <div class="block-27">
                            <ul>
                                <li>
                                    @if (Model.Count > 0)
                                    {
                                        for (int i = 1; i <= ViewBag.TotalPages; i++)
                                        {
                                            <a href="@Url.Action("Shop", new { slug = ViewBag.CategorySlug, page = i })">@i</a>
                                        }
                                    }
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>

            <div class="col-md-4 col-lg-2 sidebar">
                <div class="sidebar-box-2">
                    <h2 class="heading mb-4"><a href="#">Category</a></h2>
                    <ul>
                        @foreach (var category in ViewBag.Categories)
                        {
                            <li><a asp-controller="Page" asp-action="Shop" asp-route-slug="@category.Slug">@category.CategoryName</a></li>
                        }
                    </ul>
                </div>

                <form action="@Url.Action("Shop", "Page", new { slug = ViewBag.CategorySlug })" method="get">
                    <div class="sidebar-box-2">
                        <h2 class="heading mb-4"><a href="#">Price</a></h2>
                        <div class="form-group">
                            <label for="price_from">Price from:</label>
                            <input type="text" style="width:100px;" id="price_from" name="minPrice">
                        </div>
                        <div class="form-group">
                            <label for="price_to">Price to:</label>
                            <input type="text" style="width:100px;" id="price_to" name="maxPrice">
                        </div>
                    </div>

                    <div class="sidebar-box-2">
                        <h2 class="heading mb-4"><a href="#">Gold Age</a></h2>
                        <ul>
                            @foreach (var goldAge in ViewBag.GoldAges as List<GoldAge>)
                            {
                                <li>
                                    <input type="checkbox" id="@goldAge.GoldAgeId" name="goldAgeId" value="@goldAge.GoldAgeId">
                                    <label style="margin-left:5px;" for="@goldAge.GoldAgeId">@goldAge.Age</label>
                                </li>
                            }
                        </ul>
                    </div>

                    <div class="sidebar-box-2">
                        <h2 class="heading mb-4"><a href="#">Brand</a></h2>
                        <ul>
                            @foreach (var brand in ViewBag.Brands as List<Brand>)
                            {
                                <li>
                                    <input type="checkbox" id="@brand.BrandId" name="brandId" value="@brand.BrandId">
                                    <label style="margin-left:5px;" for="@brand.BrandId">@brand.BrandName</label>
                                </li>
                            }
                        </ul>
                    </div>

                    <div class="form-group">
                        <input type="submit" style="padding:5px 10px; border: 1px solid white; background-color:#FFA45C; color: white;" value="Filter" class="btnfilter">
                        <input type="hidden" name="slug" value="@ViewBag.CategorySlug">
                    </div>
                </form>



            </div>
        </div>
    </div>
</section>